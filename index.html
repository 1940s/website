<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="index_style.css" />
    <title>1940s</title>
</head>
<body>
    <script src="three.js"></script>
    <script type="module" src="OrbitControls.js"></script>
    <script type="module" src="GLTFLoader.js"></script>
    <script type="module">
        import {GLTFLoader} from "./GLTFLoader.js";
        import { OrbitControls } from "https://threejs.org/examples/jsm/controls/OrbitControls.js";

        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth/window.innerHeight,
            0.01,
            1000
        );

        var renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth,window.innerHeight);
        document.body.appendChild(renderer.domElement);

        var loader = new GLTFLoader();

        var obj;
        loader.load("doorcutface_3_1.gltf",function(gltf){
            obj=gltf.scene;
            obj.scale.set(0.5,0.5,0.5);
            scene.add(gltf.scene);
        });

//        scene.background = new THREE.Color(0x69B0AC);

        var light = new THREE.HemisphereLight(0xffffff, 0xffffff, 1.45);
        scene.add(light);

        var directLight1 = new THREE.DirectionalLight(0xffffff, 1.35);
        directLight1.castShadow = true;
        directLight1.position.set(9.5, 8.2, 8.3);
        scene.add(directLight1);

        var directLight2 = new THREE.DirectionalLight(0xd3d7ff, 1.05);
        directLight2.castShadow = true;
        directLight2.position.set(-15.8, 5.2, 8);
        scene.add(directLight2);

// controls

        var controls = new OrbitControls( camera, renderer.domElement );
		controls.listenToKeyEvents( window ); // optional

        controls.rotateSpeed = 0.3;
        controls.zoomSpeed = 0.9;

        controls.minDistance = 10;
        controls.maxDistance = 20;

        controls.minPolarAngle = 0; // radians
        controls.maxPolarAngle = Math.PI /2; // radians

        controls.enablePan = false;//禁止右鍵平移

        controls.enableDamping = false;
        controls.dampingFactor = 0.05;

        camera.position.set(0,5,15);



        function animate()
        {
            requestAnimationFrame(animate);
            obj.rotation.y+=0.005;
            controls.update();
            renderer.render(scene,camera);
        }
        animate();
    </script>
    <a href="home.html" target="_self" class="tohome"></a>
</body>
</html>